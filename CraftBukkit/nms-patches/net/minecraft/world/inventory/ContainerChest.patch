
@@ -56,6 +85,10 @@
         iinventory.startOpen(playerinventory.player);
         int k = (this.containerRows - 4) * 18;
 
+        // CraftBukkit start - Save player
+        this.player = playerinventory;
+        // CraftBukkit end
+
         int l;
         int i1;
 
@@ -79,6 +112,7 @@
 
     @Override
     public boolean stillValid(EntityHuman entityhuman) {
+        if (!this.checkReachable) return true; // CraftBukkit
         return this.container.stillValid(entityhuman);
     }
 
