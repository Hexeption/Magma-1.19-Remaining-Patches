
@@ -18,6 +39,7 @@
     public ContainerHopper(int i, PlayerInventory playerinventory, IInventory iinventory) {
         super(Containers.HOPPER, i);
         this.hopper = iinventory;
+        this.player = playerinventory; // CraftBukkit - save player
         checkContainerSize(iinventory, 5);
         iinventory.startOpen(playerinventory.player);
         boolean flag = true;
@@ -42,6 +64,7 @@
 
     @Override
     public boolean stillValid(EntityHuman entityhuman) {
+        if (!this.checkReachable) return true; // CraftBukkit
         return this.hopper.stillValid(entityhuman);
     }
 
